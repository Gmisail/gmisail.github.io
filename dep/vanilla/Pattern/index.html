<style>
*{
    padding: 0px;
    margin: 0px;
}
</style>

<canvas id="view" width=600 height=300></canvas>
<script>

var context = document.getElementById('view');
context.width = window.innerWidth;
context.height = window.innerHeight;

var canvas = context.getContext('2d');
canvas.fillStyle = "blue";
canvas.fillRect(0, 0, context.width, context.height);

var colors = ["black", "black"];

var clear = false;

var x = 0;
var y = Math.floor(context.height * Math.random());
var xdir = 8;
var ydir = 8;

var xb = window.innerWidth;
var yb = y;
var xdirb = -8;
var ydirb = 8;

var id = 0;
function update(){
    x += xdir;
    y += ydir;
    xb += xdirb;
    yb += ydirb;

    if(x >= context.width || x <= 0){
        xdir *= -1;
    }


    if(y >= context.height || y <= 0){
        ydir *= -1;
    }

    if(xb >= context.width || xb <= 0){
        xdirb *= -1;
    }


    if(yb >= context.height || yb <= 0){
        ydirb *= -1;
    }


    if(clear){
        canvas.clearRect(0, 0, window.innerWidth, window.innerHeight);
        canvas.fillStyle = "blue";
        canvas.fillRect(0, 0, context.width, context.height);
    }

    canvas.fillStyle = colors[0];
    canvas.fillRect(x, y, 8, 8)

    canvas.fillStyle = "white";
    canvas.fillRect(xb, yb, 8, 8)

    //window.requestAnimationFrame(update);
}

setInterval(update, 1);

</script>
